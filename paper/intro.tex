\section{序論}
\subsection{Ethereumにおけるプライバシーとゼロ知識証明の役割}
Ethereumは、\textbf{スマートコントラクト}\footnote{契約の条件確認や履行を自動的に強制するコンピュータプログラム。ブロックチェーン上で実行される。}と呼ばれるプログラムを実行できる分散型プラットフォームであり、世界中の誰もがアクセスできる巨大な共有コンピュータに例えられる。
この透明性はシステムの信頼性を担保する一方で、すべての取引記録が公開台帳（ブロックチェーン）に恒久的に記録されることを意味する。
これにより、どのアドレスからどのアドレスへ、いつ、どれだけの資産が移動したかを誰でも追跡できるため、ユーザーの金融活動におけるプライバシーが本質的に欠如するという深刻な課題を抱えている。

このプライバシーの欠如という課題に対する強力な解決策として、\textbf{ゼロ知識証明 (Zero-Knowledge Proof, ZKP)} が注目されている。
ZKPは、「ある秘密の情報を知っている」という事実を、その秘密情報自体を一切明らかにすることなく相手に納得させることができる暗号学的なプロトコルである。
この性質を利用することで、ユーザーは自身の取引の詳細を秘匿したまま、その取引が正当であることだけを証明できる。

Ethereum上でZKPを活用した代表的なアプリケーションに、プライバシーミキサーである\textbf{Tornado Cash}がある。
Tornado Cashでは、ユーザーは資産を共通のプールに預け入れ、後で全く新しいアドレスから同額を引き出すことができる。
このとき、ユーザーは「自分がある金額をプールに預け入れた正当な預金者である」ことをZKPを用いて証明する。
この証明には、預け入れ時のどのアドレスとも結びつく情報が含まれないため、預け入れと引き出しの間の繋がりが暗号学的に断ち切られ、送金経路のプライバシーが保護される。

このようなアプリケーションを実現するには、Ethereum上でZKPを検証する仕組み、すなわち\textbf{オンチェーン検証}が不可欠である。
オンチェーン検証のプロセスは、一般的に以下の手順で行われる。
(1) ユーザーが自身のデバイスで、ある計算（例：「私はプールへの預金者である」）が正しいことを示す証明を生成する。
(2) この証明を、Ethereum上にデプロイされた検証者スマートコントラクトにトランザクションとして送信する。
(3) スマートコントラクトは、受け取った証明が有効であるかを検証し、有効であれば後続の処理（例：資産の引き出し許可）を実行する。

しかし、このオンチェーン検証には二つの大きな課題が存在する。

第一の課題は、\textbf{オンチェーン検証のコストと制約}である。
スマートコントラクト上での計算実行には、\textbf{ガス代}\footnote{Ethereumネットワーク上でトランザクションを実行するために必要な手数料。計算が複雑であるほど高額になる。}と呼ばれる手数料が発生する。
検証アルゴリズムが複雑であったり、証明のデータサイズが大きかったりすると、ガス代は著しく高騰し、アプリケーションの実用性が失われてしまう。
todo:実測値を入れる
todo:precompiled contractを使うことができるが、全てのZKPで使えるわけではないことを明記する
todo:starkではsnark(groth16)で圧縮した証明を使うアプローチが一般的であることを述べる

第二の課題は、\textbf{クライアントサイドでの証明生成の負荷}である。
アプリケーションが広く普及するためには、ユーザーが特別な高性能ハードウェアを必要とせず、自身のデバイス（PCやスマートフォン）で証明を生成できることが望ましい。
しかし、多くの既存のZKP技術（特にzk-SNARKs）は、検証の軽量性と引き換えに、証明生成に膨大な計算リソースと時間を要求する。この「証明生成の重さ」は、ユーザー体験を損なう大きな障壁となる。
todo: 実際、デリゲートプルービングというアプローチが一般的であることを述べる

したがって、理想的な証明システムは、これら二つの課題を同時に解決する必要がある。すなわち、クライアントにとっては\textbf{軽量な証明生成}を、ブロックチェーンにとっては\textbf{効率的なオンチェーン検証}を両立させなければならない。
VOLE-in-the-Head（VOLEitH）のような対称鍵暗号ベースの証明システムは、特に証明生成の軽量性に優れていることから、このクライアントサイドプルービングの課題に対する有望な解決策として注目されている。

\subsection{VOLEベースZKPとVOLE-in-the-Head}
VOLE（Vector Oblivious Linear Evaluation）は、セキュア多者計算（MPC: Secure Multi-Party Computation）の分野、特にYao's Garbled Circuit (GC) とOblivious Transfer (OT) の研究から派生した暗号学的プリミティブである。
これは、二者間で線形関係を秘匿したまま特定の相関を生成することを可能にする。その後、このVOLEの特性、特にその高い計算効率がゼロ知識証明に応用され、証明者の計算負荷を大幅に軽減する新しいZKPの系統が発展した。
これにより、従来のSNARKs（Succinct Non-Interactive Argument of Knowledge）で主流であったR1CS（Rank-1 Constraint System）とは異なるアプローチを取り、特に証明者の計算負荷を軽減することに成功している。

その中でもVOLE-in-the-Head (VOLE itH) は、VOLEベースの対話型プロトコルにFiat-Shamir変換を適用することで、誰でも検証可能な公開証明（publicly verifiable proof）を生成可能にした画期的な手法である\cite{voleith}。
これにより、証明者側の高い計算効率という利点を維持しつつ、オンチェーン検証への道が拓かれた。

\subsection{研究の目的と貢献}
VOLEitHは理論的には有望であるものの、その実用性、特にオンチェーン検証における具体的な性能やコストについては、まだ十分に明らかにされていない。
本研究の目的は、VOLEitHの特性を活かした軽量な証明者がEthereum上で検証することが可能であるか検証することにある。

具体的には、以下の項目を詳細に測定・分析する。
\begin{itemize}
    \item 証明生成と検証にかかる時間
    \item 生成される証明のサイズ
    \item 証明者と検証者の計算負荷（CPU、メモリ）
    \item 最終的なオンチェーン検証にかかるガス代
\end{itemize}
本研究は、VOLEitHのオンチェーン応用における実現可能性と技術的なトレードオフを明らかにすることで、将来的なZKPシステムの設計と最適化、そしてブロックチェーンアプリケーションにおけるプライバシーの向上に貢献することを目指す。
